<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Wochenplan 05 | Sozialwissenschaftliche Datenanalyse mit R</title>
  <meta name="description" content="Dieses Dokument ist ein Bookdown für das Hauptseminar ‘Sozialwissenschaftliche Datenanalyse mit R’ im HS20 und dient als Ergebnisicherung im Seminarverlauf." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Wochenplan 05 | Sozialwissenschaftliche Datenanalyse mit R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Dieses Dokument ist ein Bookdown für das Hauptseminar ‘Sozialwissenschaftliche Datenanalyse mit R’ im HS20 und dient als Ergebnisicherung im Seminarverlauf." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Wochenplan 05 | Sozialwissenschaftliche Datenanalyse mit R" />
  
  <meta name="twitter:description" content="Dieses Dokument ist ein Bookdown für das Hauptseminar ‘Sozialwissenschaftliche Datenanalyse mit R’ im HS20 und dient als Ergebnisicherung im Seminarverlauf." />
  

<meta name="author" content="Kenneth Horvath &amp; Guy Schwegler" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="wochenplan-04.html"/>
<link rel="next" href="wochenplan-06.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R - HS20</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Einführung</a></li>
<li class="chapter" data-level="1" data-path="wocheplan-01.html"><a href="wocheplan-01.html"><i class="fa fa-check"></i><b>1</b> Wocheplan 01</a><ul>
<li class="chapter" data-level="1.1" data-path="wocheplan-01.html"><a href="wocheplan-01.html#sozialwissenschaftliche-datenanalyse"><i class="fa fa-check"></i><b>1.1</b> Sozialwissenschaftliche Datenanalyse</a></li>
<li class="chapter" data-level="1.2" data-path="wocheplan-01.html"><a href="wocheplan-01.html#ziel-des-kurses"><i class="fa fa-check"></i><b>1.2</b> Ziel des Kurses</a></li>
<li class="chapter" data-level="1.3" data-path="wocheplan-01.html"><a href="wocheplan-01.html#r-als-programm-rstudio"><i class="fa fa-check"></i><b>1.3</b> R als Programm &amp; RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="wocheplan-01.html"><a href="wocheplan-01.html#lernziele-der-ersten-woche"><i class="fa fa-check"></i><b>1.4</b> Lernziele der ersten Woche</a></li>
<li class="chapter" data-level="1.5" data-path="wocheplan-01.html"><a href="wocheplan-01.html#aufgaben-der-ersten-woche"><i class="fa fa-check"></i><b>1.5</b> Aufgaben der ersten Woche</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="wochenplan-02.html"><a href="wochenplan-02.html"><i class="fa fa-check"></i><b>2</b> Wochenplan 02</a><ul>
<li class="chapter" data-level="2.1" data-path="wochenplan-02.html"><a href="wochenplan-02.html#lernziele-der-zweiten-woche"><i class="fa fa-check"></i><b>2.1</b> Lernziele der zweiten Woche</a></li>
<li class="chapter" data-level="2.2" data-path="wochenplan-02.html"><a href="wochenplan-02.html#aufgaben"><i class="fa fa-check"></i><b>2.2</b> Aufgaben</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wochenplan-03.html"><a href="wochenplan-03.html"><i class="fa fa-check"></i><b>3</b> Wochenplan 03</a><ul>
<li class="chapter" data-level="3.1" data-path="wochenplan-03.html"><a href="wochenplan-03.html#lernziele-wp03"><i class="fa fa-check"></i><b>3.1</b> Lernziele WP03</a></li>
<li class="chapter" data-level="3.2" data-path="wochenplan-03.html"><a href="wochenplan-03.html#aufgaben-wp03"><i class="fa fa-check"></i><b>3.2</b> Aufgaben WP03</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wochenplan-04.html"><a href="wochenplan-04.html"><i class="fa fa-check"></i><b>4</b> Wochenplan 04</a><ul>
<li class="chapter" data-level="4.1" data-path="wochenplan-04.html"><a href="wochenplan-04.html#lernziele-wp04"><i class="fa fa-check"></i><b>4.1</b> Lernziele WP04</a></li>
<li class="chapter" data-level="4.2" data-path="wochenplan-04.html"><a href="wochenplan-04.html#aufgaben-wp04"><i class="fa fa-check"></i><b>4.2</b> Aufgaben WP04</a></li>
<li class="chapter" data-level="4.3" data-path="wochenplan-04.html"><a href="wochenplan-04.html#hinweise-für-den-wochenplan-05"><i class="fa fa-check"></i><b>4.3</b> Hinweise für den Wochenplan 05</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="wochenplan-05.html"><a href="wochenplan-05.html"><i class="fa fa-check"></i><b>5</b> Wochenplan 05</a><ul>
<li class="chapter" data-level="5.1" data-path="wochenplan-05.html"><a href="wochenplan-05.html#lernziele-wp05"><i class="fa fa-check"></i><b>5.1</b> Lernziele WP05</a></li>
<li class="chapter" data-level="5.2" data-path="wochenplan-05.html"><a href="wochenplan-05.html#aufgaben-wp05"><i class="fa fa-check"></i><b>5.2</b> Aufgaben WP05</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wochenplan-06.html"><a href="wochenplan-06.html"><i class="fa fa-check"></i><b>6</b> Wochenplan 06</a><ul>
<li class="chapter" data-level="6.1" data-path="wochenplan-06.html"><a href="wochenplan-06.html#lernziele-wp06"><i class="fa fa-check"></i><b>6.1</b> Lernziele WP06</a></li>
<li class="chapter" data-level="6.2" data-path="wochenplan-06.html"><a href="wochenplan-06.html#aufgaben-wp06"><i class="fa fa-check"></i><b>6.2</b> Aufgaben WP06</a></li>
<li class="chapter" data-level="6.3" data-path="wochenplan-06.html"><a href="wochenplan-06.html#besprechung-skript-standardfehler.r"><i class="fa fa-check"></i><b>6.3</b> Besprechung Skript “standardfehler.R”</a><ul>
<li class="chapter" data-level="6.3.1" data-path="wochenplan-06.html"><a href="wochenplan-06.html#ebene-der-grundgesamtheit"><i class="fa fa-check"></i><b>6.3.1</b> Ebene der Grundgesamtheit</a></li>
<li class="chapter" data-level="6.3.2" data-path="wochenplan-06.html"><a href="wochenplan-06.html#ebene-der-einzelnen-stichprobe"><i class="fa fa-check"></i><b>6.3.2</b> Ebene der einzelnen Stichprobe</a></li>
<li class="chapter" data-level="6.3.3" data-path="wochenplan-06.html"><a href="wochenplan-06.html#ebene-der-stichprobenverteilung"><i class="fa fa-check"></i><b>6.3.3</b> Ebene der Stichprobenverteilung</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="wochenplan-07.html"><a href="wochenplan-07.html"><i class="fa fa-check"></i><b>7</b> Wochenplan 07</a><ul>
<li class="chapter" data-level="7.1" data-path="wochenplan-07.html"><a href="wochenplan-07.html#lernziele-wp07"><i class="fa fa-check"></i><b>7.1</b> Lernziele WP07</a></li>
<li class="chapter" data-level="7.2" data-path="wochenplan-07.html"><a href="wochenplan-07.html#aufgaben-wp07"><i class="fa fa-check"></i><b>7.2</b> Aufgaben WP07</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="wochenplan-08.html"><a href="wochenplan-08.html"><i class="fa fa-check"></i><b>8</b> Wochenplan 08</a><ul>
<li class="chapter" data-level="8.1" data-path="wochenplan-08.html"><a href="wochenplan-08.html#lernziele-wp08"><i class="fa fa-check"></i><b>8.1</b> Lernziele WP08</a></li>
<li class="chapter" data-level="8.2" data-path="wochenplan-08.html"><a href="wochenplan-08.html#aufgaben-wp08"><i class="fa fa-check"></i><b>8.2</b> Aufgaben WP08</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="wochenplan-09.html"><a href="wochenplan-09.html"><i class="fa fa-check"></i><b>9</b> Wochenplan 09</a><ul>
<li class="chapter" data-level="9.1" data-path="wochenplan-09.html"><a href="wochenplan-09.html#lernziele-wp09"><i class="fa fa-check"></i><b>9.1</b> Lernziele WP09</a></li>
<li class="chapter" data-level="9.2" data-path="wochenplan-09.html"><a href="wochenplan-09.html#aufgaben-wp09"><i class="fa fa-check"></i><b>9.2</b> Aufgaben WP09</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="wochenplan-10.html"><a href="wochenplan-10.html"><i class="fa fa-check"></i><b>10</b> Wochenplan 10</a><ul>
<li class="chapter" data-level="10.1" data-path="wochenplan-10.html"><a href="wochenplan-10.html#lernziele-wp10"><i class="fa fa-check"></i><b>10.1</b> Lernziele WP10</a></li>
<li class="chapter" data-level="10.2" data-path="wochenplan-10.html"><a href="wochenplan-10.html#aufgaben-wp10"><i class="fa fa-check"></i><b>10.2</b> Aufgaben WP10</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="wochenplan-11.html"><a href="wochenplan-11.html"><i class="fa fa-check"></i><b>11</b> Wochenplan 11</a><ul>
<li class="chapter" data-level="11.1" data-path="wochenplan-11.html"><a href="wochenplan-11.html#lernziele-wp11"><i class="fa fa-check"></i><b>11.1</b> Lernziele WP11</a></li>
<li class="chapter" data-level="11.2" data-path="wochenplan-11.html"><a href="wochenplan-11.html#aufgaben-wp11"><i class="fa fa-check"></i><b>11.2</b> Aufgaben WP11</a></li>
<li class="chapter" data-level="11.3" data-path="wochenplan-11.html"><a href="wochenplan-11.html#ergänzung-ein-schlechtes-beispiel"><i class="fa fa-check"></i><b>11.3</b> Ergänzung: ein schlechtes Beispiel</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sozialwissenschaftliche Datenanalyse mit R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wochenplan-05" class="section level1">
<h1><span class="header-section-number">5</span> Wochenplan 05</h1>
<p>…zur Einheit vom 15. &amp; 22.10.2020, Zugreifen auf Daten (Indizieren und Subsetting) sowie if-Schleifen (Vorbereitung Inferenzstatistik, Teil 2)</p>
<div id="lernziele-wp05" class="section level2">
<h2><span class="header-section-number">5.1</span> Lernziele WP05</h2>
<p>Ihre zentrale Aufgabe für die vergangene Woche bestand darin, R zu nutzen, um selbstständig “statistisch sinnvolle” Daten zu erzeugen und mit diesen zu arbeiten. Dazu haben wir zusätzlich zu den Funktionen <code>seq()</code> und <code>rep()</code> erstmals mit Zufallsvariablen gearbeitet, mit <code>cor()</code> eine erste bivariate statistische Funktion eingesetzt sowie Streudiagramme und Histogramme erstellt.</p>
<p>In der kommenden Arbeitswoche geht es nun darum, zwei neue Aspekte der Arbeit mit R kennenzulernen und einzuüben: das Zugreifen auf einzelne Elemente und Teile von Datenobjekten (Indizieren und Subsetting) und die Kontrolle von längeren Befehlsabläufen. Ausserdem werden wir mit Dataframes eine wichtige Art von Datenstrukturen in R einführen.</p>
<p>Folgende Lernziele lassen sich festhalten:</p>
<ul>
<li><p>Sie verstehen, was ein Dataframe in R ist und können die Unterschiede zu einer Matrix benennen.</p></li>
<li><p>Sie können gezielt auf einzelne Teile eines Datenobjekts zugreifen und kennen verschiedene Wege, das zu tun.</p></li>
<li><p>Sie verstehen, wie eine for-Schleife funktioniert und können einfache Varianten davon selbst erstellen.</p></li>
<li><p>Sie beginnen in der Arbeit mit R gezielt Funktionen zur Abfrage von Attributen von Objekten zu nutzen.</p></li>
</ul>
</div>
<div id="aufgaben-wp05" class="section level2">
<h2><span class="header-section-number">5.2</span> Aufgaben WP05</h2>
<ol style="list-style-type: decimal">
<li>Erzeugen Sie ein Dataframe, das aus fünf Variablen besteht und 100 Fälle umfasst. Nutzen Sie dazu die verschiedenen Funktionen, die wir in den letzten beiden Wochen kennengelernt haben (Zufallsvariablen, rep(), seq() …). Probieren Sie ebenfalls, dass die fünfte Variablen dem Character Datenformat entspricht. Überlegen Sie sich einen sozialwissenschaftlichen Kontext für dieses Dataframe und benennen Sie die Variablen dementsprechend.</li>
</ol>
<p>Für den folgenden Datensatz wurden unter anderem Beispiel aus der letzten Falllösung genommen (WP04, Aufgabe 1) und mit Zufallsvariablen ergänzt:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="wochenplan-05.html#cb124-1"></a>Geschlecht &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">100</span>),<span class="dv">0</span>)</span>
<span id="cb124-2"><a href="wochenplan-05.html#cb124-2"></a>Einkommen_CHF &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">seq</span>(<span class="dv">4100</span>,<span class="dv">14000</span>,<span class="dv">100</span>))</span>
<span id="cb124-3"><a href="wochenplan-05.html#cb124-3"></a>AnzahlZimmer_H &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">5</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="dv">4</span>, <span class="dv">18</span>), <span class="kw">rep</span> (<span class="dv">5</span>, <span class="dv">35</span>), <span class="kw">rep</span>(<span class="dv">3</span>, <span class="dv">25</span>), <span class="kw">rep</span>(<span class="dv">6</span>, <span class="dv">10</span>))</span>
<span id="cb124-4"><a href="wochenplan-05.html#cb124-4"></a>Schulzeit_J &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dv">14</span>,<span class="dv">2</span>),<span class="dv">0</span>)</span>
<span id="cb124-5"><a href="wochenplan-05.html#cb124-5"></a>Einkommen_Kl &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;unterd&quot;</span>, <span class="dv">19</span>), <span class="kw">rep</span>(<span class="st">&quot;durchs&quot;</span>, <span class="dv">41</span>), <span class="kw">rep</span>(<span class="st">&quot;ueberd&quot;</span>, <span class="dv">40</span>)) <span class="co">#stammt nicht aus einer Lösung</span></span>
<span id="cb124-6"><a href="wochenplan-05.html#cb124-6"></a>datensatz &lt;-<span class="st"> </span><span class="kw">data.frame</span>(Geschlecht,Einkommen_CHF,AnzahlZimmer_H,Schulzeit_J,Einkommen_Kl)</span></code></pre></div>
<p> </p>
<ol start="2" style="list-style-type: decimal">
<li>Wenden Sie die Funktionen <code>dim()</code>, <code>names()</code>, <code>str()</code>, <code>class()</code> und <code>typeof()</code> auf Ihr Dataframe an. Was sagen Ihnen diese Funktionen jeweils? Welcher Output dieser Funktionen leuchtet Ihnen ein, welcher weniger?</li>
</ol>
<p>Die folgenden Funktionen geben Ihnen…</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="wochenplan-05.html#cb125-1"></a><span class="kw">dim</span>(datensatz)</span></code></pre></div>
<pre><code>## [1] 100   5</code></pre>
<p>…die Dimensionen Ihres Datensatzes aus, das heisst die Zeilen- und Spaltenzahl, was der Anzahl Fällen und Variablen im Datensatz entspricht;</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="wochenplan-05.html#cb127-1"></a><span class="kw">names</span>(datensatz)</span></code></pre></div>
<pre><code>## [1] &quot;Geschlecht&quot;     &quot;Einkommen_CHF&quot;  &quot;AnzahlZimmer_H&quot; &quot;Schulzeit_J&quot;   
## [5] &quot;Einkommen_Kl&quot;</code></pre>
<p>…die Namen Ihrer Vektoren aus, also die Variablennamen im Datensatz;</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="wochenplan-05.html#cb129-1"></a><span class="kw">str</span>(datensatz)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	100 obs. of  5 variables:
##  $ Geschlecht    : num  1 1 1 0 1 0 0 0 1 0 ...
##  $ Einkommen_CHF : num  4100 4200 4300 4400 4500 4600 4700 4800 4900 5000 ...
##  $ AnzahlZimmer_H: num  2 2 2 2 2 1 1 1 1 1 ...
##  $ Schulzeit_J   : num  13 15 15 16 14 13 14 14 14 17 ...
##  $ Einkommen_Kl  : chr  &quot;unterd&quot; &quot;unterd&quot; &quot;unterd&quot; &quot;unterd&quot; ...</code></pre>
<p>…die Struktur Ihres Datensatzes aus, das heisst die Unterobjekte bzw. Variablen im Datensatz, auf die Sie mittels dem Dollarzeichen zugreifen können.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="wochenplan-05.html#cb131-1"></a><span class="kw">class</span>(datensatz)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>…die Klasse Ihres Objektes <code>datensatz</code> aus, das heisst die von Ihnen zugewiesene Eigenschaft des Objektes;</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="wochenplan-05.html#cb133-1"></a><span class="kw">typeof</span>(datensatz)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>…und den Typ Ihres Objektes, das heisst die R-interne Art und Weise, das Objekt abzuspeichern <span class="citation">(vgl. Kabacoff <a href="#ref-Kabacoff2015" role="doc-biblioref">2015</a>, 23ff)</span>.</p>
<p> </p>
<ol start="3" style="list-style-type: decimal">
<li>Schreiben Sie eine for-Schleife, die Ihnen für die vier numerischen Spalte Ihres Dataframes den Mittelwert berechnet.</li>
</ol>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="wochenplan-05.html#cb135-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(<span class="kw">dim</span>(datensatz)[<span class="dv">2</span>]<span class="op">-</span><span class="dv">1</span>)) {</span>
<span id="cb135-2"><a href="wochenplan-05.html#cb135-2"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz[,i]))</span>
<span id="cb135-3"><a href="wochenplan-05.html#cb135-3"></a>}</span></code></pre></div>
<pre><code>## [1] 0.58
## [1] 9050
## [1] 3.99
## [1] 13.94</code></pre>
<p>Einige Hinweise hierzu: Der Zusatz <code>(dim(datensatz)[2]-1))</code> generiert lediglich die Zahl 4. Die for-Schleife soll ja den Mittelwerte für die vier numerischen Variablen des Datensatzes berechnen. Dies könnte man auch einfach hinschreiben (<code>i in 1:4</code>) oder mit verschiedenen weiteren Möglichkeiten erreichen (etwa über <code>(ncol(datensatz)-1)</code>). Der Vorteil einer so definierten (anstatt hingeschriebenen) Variante ist, dass wir eigentlich gar nicht wissen müssten wieviele Variablen das wären – und die Anzahl variieren könnte.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="wochenplan-05.html#cb137-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</span>
<span id="cb137-2"><a href="wochenplan-05.html#cb137-2"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz[,i]))</span>
<span id="cb137-3"><a href="wochenplan-05.html#cb137-3"></a>}</span></code></pre></div>
<pre><code>## [1] 0.58
## [1] 9050
## [1] 3.99
## [1] 13.94</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="wochenplan-05.html#cb139-1"></a><span class="co">#...funktioniert auch...</span></span></code></pre></div>
<p>Innerhalb der geschweiften Klammern wird definiert, was für jedes i wiederholt werden soll. In unserem Beispiel ist dies die Berechnung des Mittelwertes, während mit i unsere vier verschiedenen Variablen bezeichnet werden.
Die Funktion <code>print()</code> stellt sicher, dass die berechneten Werte auch ausgegeben werden.</p>
<p>Weitere tolle Lösungsvorschläge:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="wochenplan-05.html#cb140-1"></a><span class="co">#...von Frau Diethelm</span></span>
<span id="cb140-2"><a href="wochenplan-05.html#cb140-2"></a><span class="cf">for</span>(v <span class="cf">in</span> datensatz[,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]) {</span>
<span id="cb140-3"><a href="wochenplan-05.html#cb140-3"></a><span class="kw">print</span>(<span class="kw">mean</span>(v))</span>
<span id="cb140-4"><a href="wochenplan-05.html#cb140-4"></a>}</span>
<span id="cb140-5"><a href="wochenplan-05.html#cb140-5"></a><span class="co">#...von Herr Ineichen (allerdings mit einem kleinen Problem)</span></span>
<span id="cb140-6"><a href="wochenplan-05.html#cb140-6"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="kw">seq_along</span>(datensatz)){</span>
<span id="cb140-7"><a href="wochenplan-05.html#cb140-7"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz[,i]))</span>
<span id="cb140-8"><a href="wochenplan-05.html#cb140-8"></a>  }</span>
<span id="cb140-9"><a href="wochenplan-05.html#cb140-9"></a><span class="co">#..von Frau Nguyen mit cleverem Zusatz</span></span>
<span id="cb140-10"><a href="wochenplan-05.html#cb140-10"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">names</span>(datensatz)) {</span>
<span id="cb140-11"><a href="wochenplan-05.html#cb140-11"></a>  <span class="cf">if</span>(<span class="kw">class</span>(datensatz[,i])<span class="op">==</span><span class="st">&#39;numeric&#39;</span>){</span>
<span id="cb140-12"><a href="wochenplan-05.html#cb140-12"></a>    <span class="kw">print</span>(<span class="kw">mean</span>(datensatz[,i]))</span>
<span id="cb140-13"><a href="wochenplan-05.html#cb140-13"></a>  }</span>
<span id="cb140-14"><a href="wochenplan-05.html#cb140-14"></a>}</span></code></pre></div>
<p> </p>
<ol start="4" style="list-style-type: decimal">
<li>Überprüfen Sie Ihre Ergebnisse, indem Sie die Berechnung des Mittelwerts “händisch” für jede Spalte einzeln durchführen (nutzen Sie dazu Indizierung/Subsetting mittels eckiger Klammern).</li>
</ol>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="wochenplan-05.html#cb141-1"></a><span class="kw">mean</span>(datensatz[,<span class="dv">1</span>]) <span class="co">#entspricht mean(datensatz$Geschlecht)</span></span></code></pre></div>
<pre><code>## [1] 0.58</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="wochenplan-05.html#cb143-1"></a><span class="kw">mean</span>(datensatz[,<span class="dv">2</span>]) <span class="co">#... mean(datensatz$Einkommen_CHF)</span></span></code></pre></div>
<pre><code>## [1] 9050</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="wochenplan-05.html#cb145-1"></a><span class="kw">mean</span>(datensatz[,<span class="dv">3</span>]) <span class="co">#...</span></span></code></pre></div>
<pre><code>## [1] 3.99</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="wochenplan-05.html#cb147-1"></a><span class="kw">mean</span>(datensatz[,<span class="dv">4</span>])</span></code></pre></div>
<pre><code>## [1] 13.94</code></pre>
<p> </p>
<ol start="5" style="list-style-type: decimal">
<li>Definieren Sie als eine erste Variante eine logische Bedingung, die Ihnen erlaubt, Ihr Dataframe anhand der Character-Variable in ungefähr zwei Gruppen zu teilen. Teilen Sie dann als zweite Variante Ihren Datensatz anhand einer anderen logischen Bedingung mit einer Ihrer numerischen Variablen in zwei Gruppen.</li>
</ol>
<p>In diesen logischen Bedingung können wir verschiedene logische Operatoren verwenden <span class="citation">(vgl. Manderscheid <a href="#ref-Manderscheid2017" role="doc-biblioref">2017</a>, 26)</span>:</p>
<p>gleich <strong>==</strong></p>
<p>ungleich <strong>!=</strong></p>
<p>größer <strong>&gt;</strong></p>
<p>größer gleich <strong>&gt;~</strong></p>
<p>kleiner <strong>&lt;</strong></p>
<p>kleiner gleich <strong>&lt;~</strong></p>
<p>und <strong>&amp;</strong></p>
<p>oder <strong>|</strong></p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="wochenplan-05.html#cb149-1"></a><span class="co">#Variante 1</span></span>
<span id="cb149-2"><a href="wochenplan-05.html#cb149-2"></a>datensatz_v11 &lt;-<span class="st"> </span>datensatz[datensatz<span class="op">$</span>Einkommen_Kl<span class="op">==</span><span class="st">&quot;durchs&quot;</span>,]</span>
<span id="cb149-3"><a href="wochenplan-05.html#cb149-3"></a>datensatz_v12 &lt;-<span class="st"> </span>datensatz[datensatz<span class="op">$</span>Einkommen_Kl<span class="op">!=</span><span class="st">&quot;durchs&quot;</span>,]</span>
<span id="cb149-4"><a href="wochenplan-05.html#cb149-4"></a></span>
<span id="cb149-5"><a href="wochenplan-05.html#cb149-5"></a><span class="co">#Variante 1</span></span>
<span id="cb149-6"><a href="wochenplan-05.html#cb149-6"></a>datensatz_v21 &lt;-<span class="st"> </span>datensatz[datensatz<span class="op">$</span>Einkommen_CHF<span class="op">&lt;</span><span class="dv">9900</span>,]</span>
<span id="cb149-7"><a href="wochenplan-05.html#cb149-7"></a>datensatz_v22 &lt;-<span class="st"> </span>datensatz[datensatz<span class="op">$</span>Einkommen_CHF<span class="op">&gt;</span><span class="dv">10000</span>,]</span></code></pre></div>
<p>Die erste Variante generiert zwei Teildatensätze, wobei im ersten alle mit durchschnittlichem Einkommen enthalten sind und im zweiten Teildatensatz diejenigen, die entweder über ein unter- oder überdurchschnittliches Einkommen verfügen.
Die zweite Variante generiert zwei Teildatensätze indem eine Unterscheidung getroffen wird zwischen denjenigen, die entweder mehr oder weniger als 10’000CHF pro Monat verdienen.</p>
<p>Wieso verwendet man hierfür nun nicht einfach eine Funktion, z.Bsp. <code>subset()</code> (oder auch <code>split()</code>)?</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="wochenplan-05.html#cb150-1"></a><span class="kw">subset</span>(datensatz, <span class="dt">subset =</span> datensatz<span class="op">$</span>Einkommen_Kl<span class="op">==</span><span class="st">&quot;durchs&quot;</span>)</span>
<span id="cb150-2"><a href="wochenplan-05.html#cb150-2"></a><span class="co">#das würde auch gehen</span></span></code></pre></div>
<p>Die Überlegungen, die wir machen, sollen immer einem Objekt gelten, d.h. wir wollen ein Bewusstsein für ein Objekt schaffen – im Beispiel des data.frames hat dieses Objekt eben Zeilen und Spalten und diesen können wir indizieren. Wir brauchen keine spezifischen Funktionen sondern können immer in einem allgemeinen Sinne (gemäss den drei Varianten <strong>[]</strong>, <strong>$</strong>, <strong>which()</strong>) auf Objekte zugreifen. Dieses Zugreifen können wir immer verwenden – für Funktionen, für Argumente, für Teildatensätze (Subsetting), usw.</p>
<p>Das Erstellen von Teildatensätzen kann nun auch komplexer werden durch verschiedenen Kombinationen. Im Folgenden werden zuerst die unterdurchschnittlichen und die durchschnittlichen Einkommen in einem Datensatz gepackt (Beispiel 1) und dann die Männer (Geschlecht==0), die unterdurchschnittlich viel Geld verdienen (Beispiel 2).</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="wochenplan-05.html#cb151-1"></a><span class="co"># datensatz[datensatz$Einkommen_Kl==c(&quot;unterd&quot;, &quot;durchs&quot;),] !!! funktionert nicht!!!</span></span>
<span id="cb151-2"><a href="wochenplan-05.html#cb151-2"></a><span class="co">#...die funktionierenden Kombinationen:</span></span>
<span id="cb151-3"><a href="wochenplan-05.html#cb151-3"></a>datensatz[datensatz<span class="op">$</span>Einkommen_Kl<span class="op">==</span><span class="st">&quot;unterd&quot;</span> <span class="op">|</span><span class="st"> </span>datensatz<span class="op">$</span>Einkommen_Kl<span class="op">==</span><span class="st"> &quot;durchs&quot;</span>,] <span class="co">#Bsp1</span></span>
<span id="cb151-4"><a href="wochenplan-05.html#cb151-4"></a>datensatz[datensatz<span class="op">$</span>Einkommen_Kl<span class="op">==</span><span class="st">&quot;unterd&quot;</span> <span class="op">&amp;</span><span class="st"> </span>datensatz<span class="op">$</span>Geschlecht<span class="op">==</span><span class="dv">0</span>,] <span class="co">#Bsp2</span></span></code></pre></div>
<p> </p>
<ol start="6" style="list-style-type: decimal">
<li>Berechnen Sie bei einer der beiden Varianten aus Aufgabe 6 dann noch einmal die Mittelwerte pro Spalte, aber getrennt für diese beiden Gruppen.</li>
</ol>
<p>Hierfür konnte nun einfach die for-Schleife nochmals genutzt werden:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="wochenplan-05.html#cb152-1"></a><span class="co">#...für den ersten Teildatensatz der ersten Variante</span></span>
<span id="cb152-2"><a href="wochenplan-05.html#cb152-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</span>
<span id="cb152-3"><a href="wochenplan-05.html#cb152-3"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz_v11[,i]))</span>
<span id="cb152-4"><a href="wochenplan-05.html#cb152-4"></a>}</span></code></pre></div>
<pre><code>## [1] 0.6097561
## [1] 8000
## [1] 4.731707
## [1] 14.02439</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="wochenplan-05.html#cb154-1"></a><span class="co">#...für den zweiten Teildatensatz der ersten Variante</span></span>
<span id="cb154-2"><a href="wochenplan-05.html#cb154-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</span>
<span id="cb154-3"><a href="wochenplan-05.html#cb154-3"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz_v12[,i]))</span>
<span id="cb154-4"><a href="wochenplan-05.html#cb154-4"></a>}</span></code></pre></div>
<pre><code>## [1] 0.559322
## [1] 9779.661
## [1] 3.474576
## [1] 13.88136</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="wochenplan-05.html#cb156-1"></a><span class="co">#...für den ersten Teildatensatz der zweiten Variante</span></span>
<span id="cb156-2"><a href="wochenplan-05.html#cb156-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</span>
<span id="cb156-3"><a href="wochenplan-05.html#cb156-3"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz_v21[,i]))</span>
<span id="cb156-4"><a href="wochenplan-05.html#cb156-4"></a>}</span></code></pre></div>
<pre><code>## [1] 0.5862069
## [1] 6950
## [1] 3.948276
## [1] 14.03448</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="wochenplan-05.html#cb158-1"></a><span class="co">#...für den zweiten Teildatensatz der zweiten Variante</span></span>
<span id="cb158-2"><a href="wochenplan-05.html#cb158-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</span>
<span id="cb158-3"><a href="wochenplan-05.html#cb158-3"></a>  <span class="kw">print</span>(<span class="kw">mean</span>(datensatz_v22[,i]))</span>
<span id="cb158-4"><a href="wochenplan-05.html#cb158-4"></a>}</span></code></pre></div>
<pre><code>## [1] 0.575
## [1] 12050
## [1] 4
## [1] 13.8</code></pre>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Kabacoff2015">
<p>Kabacoff, Robert. 2015. <em>R in Action: Data Analysis and Graphics with R</em>. Shelter Island, NY: Manning.</p>
</div>
<div id="ref-Manderscheid2017">
<p>Manderscheid, Katharina. 2017. <em>Sozialwissenschaftliche Datenanalyse Mit R. Eine Einführung</em>. Wiesbaden: Springer VS.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="wochenplan-04.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="wochenplan-06.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-WP5_IndizierenSubsetting.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
